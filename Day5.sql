
-- Demo table for UPDATE and DELETE in PostgreSQL
DROP TABLE IF EXISTS students_demo;
CREATE TABLE students_demo (
    id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    email VARCHAR(120) UNIQUE NOT NULL,
    major VARCHAR(80) NOT NULL,
    graduation_year SMALLINT NOT NULL,
    gpa NUMERIC(3,2) CHECK (gpa BETWEEN 0.00 AND 4.00),
    status VARCHAR(20) NOT NULL CHECK (status IN ('active','graduated','withdrawn','leave')),
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);

INSERT INTO students_demo (first_name,last_name,email,major,graduation_year,gpa,status,created_at) VALUES
    ('Kyrie','Harris','kyrie.harris.hgi@example.edu','Psychology',2025,3.06,'active','2024-07-01 17:48:50'),
    ('Quinn','Clark','quinn.clark.0v2@student.edu','Finance',2022,2.30,'graduated','2024-03-07 12:20:08'),
    ('Morgan','Rivera','morgan.rivera.t1q@student.edu','Data Science',2023,3.12,'withdrawn','2023-12-31 02:56:32'),
    ('Oakley','King','oakley.king.6v9@student.edu','Economics',2022,3.90,'graduated','2025-03-11 16:04:56'),
    ('Devon','Lopez','devon.lopez.7xb@example.edu','Biology',2026,3.37,'active','2023-05-22 23:00:39'),
    ('Morgan','Martinez','morgan.martinez.lal@campus.edu','Finance',2022,3.80,'leave','2024-08-04 07:41:53'),
    ('Noel','Taylor','noel.taylor.t3e@campus.edu','English',2019,2.26,'withdrawn','2024-05-13 05:28:38'),
    ('Devon','Clark','devon.clark.eek@example.edu','Political Science',2021,3.85,'withdrawn','2022-10-16 18:10:22'),
    ('Elliot','Taylor','elliot.taylor.e3g@example.edu','Philosophy',2023,2.02,'graduated','2022-11-23 07:52:33'),
    ('Jules','Sanchez','jules.sanchez.m3n@student.edu','Art',2020,2.36,'withdrawn','2025-01-17 14:30:42'),
    ('Owen','Lewis','owen.lewis.i4i@campus.edu','Sociology',2020,3.75,'graduated','2022-03-24 09:05:31'),
    ('Jules','Jackson','jules.jackson.p85@student.edu','Psychology',2020,3.01,'withdrawn','2022-10-19 17:22:14'),
    ('Zion','Rodriguez','zion.rodriguez.7j5@student.edu','Engineering',2021,2.56,'graduated','2024-05-22 22:31:29'),
    ('Hollis','Rivera','hollis.rivera.pn5@student.edu','Computer Science',2024,3.39,'leave','2022-01-31 06:14:59'),
    ('Frankie','Taylor','frankie.taylor.x05@example.edu','Political Science',2024,3.31,'active','2023-10-25 19:21:37'),
    ('Quinn','Smith','quinn.smith.s89@example.edu','Philosophy',2026,3.87,'active','2025-02-22 15:10:35'),
    ('Oakley','Scott','oakley.scott.tww@campus.edu','Sociology',2022,3.48,'leave','2025-07-10 11:11:44'),
    ('Riley','Nguyen','riley.nguyen.bck@campus.edu','Music',2023,2.39,'withdrawn','2023-03-28 06:16:17'),
    ('Reese','Robinson','reese.robinson.l56@campus.edu','Finance',2025,3.12,'leave','2022-05-28 07:33:32'),
    ('Skyler','Robinson','skyler.robinson.u6n@student.edu','Music',2026,3.33,'leave','2023-12-25 08:43:21'),
    ('Oakley','King','oakley.king.alr@student.edu','Computer Science',2023,3.27,'withdrawn','2022-06-20 06:02:35'),
    ('Drew','Nguyen','drew.nguyen.7ob@campus.edu','Physics',2023,2.32,'withdrawn','2022-04-16 06:51:44'),
    ('Avery','Young','avery.young.gjn@campus.edu','Chemistry',2021,3.40,'graduated','2025-07-28 19:28:37'),
    ('Morgan','Mitchell','morgan.mitchell.y03@example.edu','Art',2020,2.07,'withdrawn','2021-12-08 12:53:07'),
    ('Kai','Anderson','kai.anderson.w1v@student.edu','Data Science',2024,3.62,'active','2022-09-22 06:32:17'),
    ('Marley','Davis','marley.davis.fxs@example.edu','Physics',2025,3.83,'active','2024-03-06 16:09:36'),
    ('Lane','Hill','lane.hill.5c3@example.edu','History',2024,2.51,'active','2024-04-11 14:26:13'),
    ('Taylor','Martin','taylor.martin.8ea@student.edu','Art',2023,2.58,'graduated','2021-03-24 12:52:45'),
    ('Cameron','Hill','cameron.hill.y4x@example.edu','Finance',2023,3.22,'graduated','2025-04-14 10:30:50'),
    ('Marley','Sanchez','marley.sanchez.pz1@example.edu','Philosophy',2025,3.98,'active','2024-08-19 09:27:33'),
    ('Cameron','Torres','cameron.torres.da7@example.edu','Economics',2021,3.26,'withdrawn','2022-01-11 21:06:29'),
    ('Nova','Ramirez','nova.ramirez.f7b@student.edu','History',2020,2.33,'withdrawn','2021-09-28 17:24:34'),
    ('Emery','Garcia','emery.garcia.nf0@student.edu','Chemistry',2020,2.87,'graduated','2021-10-03 17:18:33'),
    ('Marley','Thomas','marley.thomas.gyg@campus.edu','Philosophy',2020,2.47,'withdrawn','2023-03-21 19:05:30'),
    ('Aria','Jones','aria.jones.ilu@student.edu','Chemistry',2020,3.59,'graduated','2023-06-14 02:15:46'),
    ('Bailey','Gonzalez','bailey.gonzalez.7xg@campus.edu','Psychology',2019,3.15,'withdrawn','2021-08-22 05:47:59'),
    ('Finley','Harris','finley.harris.fkj@student.edu','Data Science',2019,2.71,'graduated','2023-02-17 00:39:27'),
    ('Finley','Lee','finley.lee.6if@example.edu','Computer Science',2019,2.35,'withdrawn','2025-04-07 02:33:55'),
    ('Greer','Smith','greer.smith.pxc@campus.edu','Marketing',2026,2.85,'withdrawn','2025-04-22 20:21:37'),
    ('Greer','Taylor','greer.taylor.lme@campus.edu','Physics',2020,3.86,'withdrawn','2024-06-25 03:43:50'),
    ('Skyler','Martin','skyler.martin.wip@student.edu','Philosophy',2019,3.20,'withdrawn','2021-09-07 00:38:40'),
    ('Harper','Young','harper.young.16z@student.edu','Business',2022,3.21,'graduated','2022-08-10 14:30:15'),
    ('Owen','Wilson','owen.wilson.c7q@student.edu','Business',2020,3.39,'graduated','2024-07-22 04:43:20'),
    ('Luca','Gonzalez','luca.gonzalez.pxv@example.edu','Computer Science',2020,3.60,'graduated','2021-01-27 15:38:43'),
    ('Harper','Lopez','harper.lopez.43y@example.edu','Political Science',2020,2.62,'withdrawn','2023-03-02 23:00:12'),
    ('Sam','Jones','sam.jones.jsj@campus.edu','Biology',2023,3.46,'graduated','2022-05-29 17:14:17'),
    ('Kyrie','Rodriguez','kyrie.rodriguez.5vh@campus.edu','Sociology',2026,2.50,'active','2022-01-13 16:43:40'),
    ('Harper','Martinez','harper.martinez.gs2@example.edu','Engineering',2024,3.20,'active','2024-02-13 15:50:19'),
    ('Jamie','Torres','jamie.torres.a00@campus.edu','Mathematics',2019,2.84,'graduated','2021-06-21 00:10:28'),
    ('Quinn','Garcia','quinn.garcia.1ke@campus.edu','Psychology',2023,2.35,'graduated','2021-07-02 22:26:35'),
    ('Avery','Lee','avery.lee.a4k@student.edu','Philosophy',2019,2.89,'leave','2023-09-10 19:44:35'),
    ('Emery','Thompson','emery.thompson.hez@campus.edu','Art',2022,3.70,'graduated','2024-07-10 19:02:46'),
    ('Devon','Ramirez','devon.ramirez.z8v@campus.edu','Biology',2023,2.04,'graduated','2022-12-06 05:33:50'),
    ('Drew','Ramirez','drew.ramirez.bt8@campus.edu','Sociology',2024,2.35,'active','2025-05-03 03:39:35'),
    ('Lane','Scott','lane.scott.kym@example.edu','Biology',2019,2.35,'withdrawn','2023-05-29 19:48:37'),
    ('Zion','Harris','zion.harris.nx7@student.edu','Statistics',2022,3.96,'graduated','2022-06-21 03:35:24'),
    ('Alex','White','alex.white.ovv@campus.edu','Sociology',2023,2.82,'graduated','2022-08-12 00:59:08'),
    ('Aria','Allen','aria.allen.tfo@campus.edu','Economics',2023,2.61,'graduated','2021-07-09 12:35:01'),
    ('Taylor','Young','taylor.young.ixr@student.edu','Physics',2019,2.25,'graduated','2021-05-24 12:55:37'),
    ('Aria','Rodriguez','aria.rodriguez.87m@campus.edu','Art',2019,2.13,'graduated','2025-01-23 00:34:04'),
    ('Noel','Gonzalez','noel.gonzalez.x1r@campus.edu','Computer Science',2022,3.46,'graduated','2021-11-15 23:18:47'),
    ('Micah','Lopez','micah.lopez.587@campus.edu','History',2023,3.67,'graduated','2022-09-10 02:03:30'),
    ('Frankie','Williams','frankie.williams.yu4@student.edu','Economics',2023,3.15,'graduated','2021-11-03 01:09:42'),
    ('Emerson','Torres','emerson.torres.3th@student.edu','Psychology',2021,3.02,'graduated','2023-03-08 15:01:01'),
    ('Lane','Taylor','lane.taylor.8ka@example.edu','Computer Science',2023,2.46,'withdrawn','2024-12-29 00:38:51'),
    ('Cameron','King','cameron.king.5kl@student.edu','Finance',2021,3.77,'graduated','2021-01-13 05:40:15'),
    ('Aria','Robinson','aria.robinson.q0r@student.edu','Biology',2024,3.13,'active','2023-10-28 14:31:30'),
    ('Aria','Nelson','aria.nelson.v2q@campus.edu','Statistics',2025,3.97,'leave','2022-11-04 07:50:50'),
    ('Kai','Jones','kai.jones.d91@student.edu','Biology',2022,3.42,'leave','2022-04-17 12:25:12'),
    ('Morgan','Lopez','morgan.lopez.ccw@student.edu','Chemistry',2023,2.88,'graduated','2024-08-29 20:14:57'),
    ('Frankie','Ramirez','frankie.ramirez.vxl@campus.edu','Biology',2021,2.96,'graduated','2023-09-18 16:09:54'),
    ('Oakley','Lopez','oakley.lopez.qsv@student.edu','Art',2026,3.23,'leave','2021-03-10 16:32:54'),
    ('Quinn','Davis','quinn.davis.map@student.edu','Data Science',2022,2.25,'graduated','2024-01-27 15:38:34'),
    ('Zion','Carter','zion.carter.9ae@campus.edu','Chemistry',2021,3.91,'graduated','2022-06-04 00:44:10'),
    ('Finley','Rivera','finley.rivera.981@example.edu','Chemistry',2022,3.88,'leave','2022-03-13 18:49:32'),
    ('Nova','Smith','nova.smith.gjm@student.edu','Marketing',2024,2.49,'active','2023-07-15 03:48:40'),
    ('Cameron','Nguyen','cameron.nguyen.837@example.edu','Finance',2023,3.54,'graduated','2022-11-28 06:46:43'),
    ('Kai','Baker','kai.baker.qx2@student.edu','English',2019,2.94,'graduated','2022-11-11 03:56:07'),
    ('Taylor','Ramirez','taylor.ramirez.z7y@campus.edu','Computer Science',2021,2.75,'withdrawn','2024-10-12 09:48:54'),
    ('Bailey','Mitchell','bailey.mitchell.67j@example.edu','Engineering',2022,3.33,'graduated','2024-01-08 02:52:04'),
    ('Morgan','Nelson','morgan.nelson.r2y@example.edu','Marketing',2025,3.72,'leave','2022-05-18 01:57:20'),
    ('Drew','Scott','drew.scott.jug@campus.edu','Computer Science',2024,2.63,'active','2023-10-17 06:30:34'),
    ('Cameron','Rivera','cameron.rivera.u5a@example.edu','Economics',2019,2.61,'graduated','2021-05-03 04:59:02'),
    ('Harper','Adams','harper.adams.mjl@example.edu','Data Science',2022,2.51,'withdrawn','2025-08-17 21:46:54'),
    ('Morgan','Scott','morgan.scott.gwy@student.edu','English',2025,2.72,'leave','2025-05-10 08:28:18'),
    ('Rowan','Ramirez','rowan.ramirez.3qo@example.edu','History',2022,3.78,'graduated','2025-01-04 07:57:38'),
    ('Emerson','Robinson','emerson.robinson.2ht@campus.edu','Data Science',2021,2.06,'withdrawn','2021-01-31 02:34:24'),
    ('Morgan','Hernandez','morgan.hernandez.adc@example.edu','Computer Science',2023,3.59,'graduated','2025-05-15 13:38:28'),
    ('Parker','Lewis','parker.lewis.nbg@example.edu','Philosophy',2026,2.64,'active','2021-12-23 11:19:21'),
    ('Hollis','Martin','hollis.martin.vwy@example.edu','Philosophy',2024,3.50,'active','2023-08-15 04:01:51'),
    ('Skyler','Scott','skyler.scott.ohb@student.edu','Statistics',2021,2.40,'withdrawn','2021-06-08 21:24:26'),
    ('Reese','Garcia','reese.garcia.2hs@campus.edu','Computer Science',2026,3.36,'active','2022-07-09 21:01:15'),
    ('Reese','King','reese.king.pu0@student.edu','Art',2024,3.87,'active','2025-06-12 18:38:09'),
    ('Devon','Miller','devon.miller.5c6@example.edu','Biology',2022,3.77,'withdrawn','2025-04-07 10:35:53'),
    ('Taylor','Jackson','taylor.jackson.ny5@campus.edu','Data Science',2020,3.20,'graduated','2025-03-10 09:10:38'),
    ('Hayden','Rodriguez','hayden.rodriguez.8wr@campus.edu','History',2021,2.69,'graduated','2022-03-06 10:07:43'),
    ('Skyler','Anderson','skyler.anderson.wv0@student.edu','Music',2021,2.95,'graduated','2023-07-30 06:17:58'),
    ('Rowan','Flores','rowan.flores.kbq@example.edu','Marketing',2019,3.54,'graduated','2024-06-27 19:32:23'),
    ('Skyler','Scott','skyler.scott.dos@campus.edu','Engineering',2021,3.07,'graduated','2025-06-15 18:38:03'),
    ('Sam','Walker','sam.walker.d5k@campus.edu','Finance',2026,3.99,'leave','2024-03-30 21:24:05'),
    ('Devon','White','devon.white.ily@example.edu','Statistics',2021,3.49,'graduated','2024-02-27 07:35:59'),
    ('Elliot','Torres','elliot.torres.rbh@campus.edu','History',2023,3.83,'graduated','2021-12-28 07:30:49'),
    ('Charlie','Garcia','charlie.garcia.dgp@campus.edu','Economics',2022,3.14,'withdrawn','2025-07-17 03:52:18'),
    ('Morgan','Jones','morgan.jones.32f@campus.edu','Mathematics',2020,2.80,'withdrawn','2022-02-12 20:23:32'),
    ('Lane','Perez','lane.perez.v6v@campus.edu','Biology',2026,2.27,'active','2023-04-16 16:53:58'),
    ('Peyton','Taylor','peyton.taylor.5ym@campus.edu','Philosophy',2019,2.43,'graduated','2023-06-25 15:32:16'),
    ('Zion','Brown','zion.brown.y7p@campus.edu','Political Science',2026,2.04,'active','2022-05-24 19:23:54'),
    ('Greer','Harris','greer.harris.gxl@campus.edu','Marketing',2020,3.17,'withdrawn','2021-03-07 07:12:22'),
    ('Luca','Scott','luca.scott.o30@example.edu','Business',2024,2.39,'active','2022-05-20 17:12:21'),
    ('Harper','Robinson','harper.robinson.n27@campus.edu','Biology',2019,2.15,'leave','2024-04-07 18:40:09'),
    ('Jordan','King','jordan.king.60s@student.edu','History',2019,3.71,'graduated','2023-08-26 06:46:36'),
    ('Cameron','Jackson','cameron.jackson.7nb@campus.edu','Psychology',2026,3.14,'active','2023-03-23 01:14:04'),
    ('Quinn','Hill','quinn.hill.5rf@example.edu','English',2024,2.23,'active','2023-07-15 21:51:23'),
    ('Marley','Flores','marley.flores.8ct@student.edu','Physics',2022,2.51,'withdrawn','2021-10-07 23:18:14'),
    ('Jamie','Johnson','jamie.johnson.jm3@student.edu','History',2023,2.19,'graduated','2024-10-12 13:28:16'),
    ('Elliot','Adams','elliot.adams.3la@campus.edu','Economics',2025,3.03,'active','2023-06-10 13:48:19'),
    ('Lane','White','lane.white.51c@campus.edu','Biology',2021,3.52,'graduated','2024-01-23 12:49:18'),
    ('Kyrie','Williams','kyrie.williams.l75@example.edu','Mathematics',2022,3.31,'graduated','2024-06-12 15:54:41'),
    ('Tatum','Miller','tatum.miller.kd5@example.edu','Economics',2021,3.64,'graduated','2022-10-30 18:32:41'),
    ('Reese','Ramirez','reese.ramirez.c59@student.edu','Biology',2024,3.28,'active','2022-07-06 17:39:42'),
    ('Frankie','Davis','frankie.davis.vfb@example.edu','Marketing',2026,3.05,'withdrawn','2024-07-29 13:58:07'),
    ('Kai','Lewis','kai.lewis.grm@student.edu','Statistics',2019,3.90,'withdrawn','2022-06-04 08:44:31'),
    ('Kendall','Martin','kendall.martin.06u@example.edu','Business',2024,3.15,'active','2022-04-11 15:39:08'),
    ('Parker','Wilson','parker.wilson.bb2@student.edu','Computer Science',2025,2.90,'active','2024-01-04 08:08:32'),
    ('Owen','Clark','owen.clark.i4j@campus.edu','Physics',2020,2.67,'graduated','2021-06-04 22:10:16'),
    ('Indigo','Hill','indigo.hill.b4o@example.edu','Art',2020,3.64,'graduated','2022-05-27 12:42:50'),
    ('Noel','Nguyen','noel.nguyen.ojh@student.edu','Finance',2026,3.55,'active','2023-10-02 21:54:57'),
    ('Devon','King','devon.king.hrx@example.edu','Marketing',2022,3.16,'withdrawn','2023-05-07 09:37:30'),
    ('Noel','King','noel.king.k4m@student.edu','Biology',2023,2.19,'withdrawn','2024-10-10 21:17:21'),
    ('Quinn','Roberts','quinn.roberts.q4e@example.edu','Finance',2020,3.97,'graduated','2021-04-20 00:59:49'),
    ('Aria','Young','aria.young.vyv@example.edu','Statistics',2019,2.63,'withdrawn','2022-05-10 09:26:00'),
    ('Jesse','Perez','jesse.perez.uod@student.edu','Biology',2022,3.11,'graduated','2021-01-12 05:18:07'),
    ('Aria','Wright','aria.wright.5sz@student.edu','Economics',2023,2.37,'graduated','2021-02-22 13:21:43'),
    ('Emerson','Taylor','emerson.taylor.egn@student.edu','Finance',2022,2.65,'graduated','2024-03-19 14:41:06'),
    ('Greer','Miller','greer.miller.ma4@example.edu','Marketing',2021,2.37,'withdrawn','2023-08-13 12:40:54'),
    ('Riley','Sanchez','riley.sanchez.grl@campus.edu','Political Science',2022,3.17,'graduated','2024-04-10 05:37:59'),
    ('River','Jackson','river.jackson.g6t@example.edu','Computer Science',2023,2.08,'leave','2024-04-02 00:14:31'),
    ('Casey','Ramirez','casey.ramirez.nll@student.edu','Statistics',2021,2.88,'withdrawn','2022-03-13 04:47:11'),
    ('Hollis','Brown','hollis.brown.2aj@example.edu','Data Science',2025,2.35,'active','2021-05-15 11:45:08'),
    ('Rowan','Hall','rowan.hall.6xx@campus.edu','Psychology',2020,3.03,'graduated','2021-05-05 12:13:39'),
    ('Hollis','Rodriguez','hollis.rodriguez.mv9@student.edu','English',2021,2.91,'withdrawn','2022-07-06 06:07:36'),
    ('Marley','Jones','marley.jones.564@student.edu','Chemistry',2024,3.70,'active','2022-09-11 09:02:27'),
    ('Blake','Hall','blake.hall.nc7@campus.edu','Art',2020,3.69,'graduated','2024-07-26 21:44:34'),
    ('Charlie','Smith','charlie.smith.7fk@example.edu','Marketing',2020,2.20,'graduated','2023-02-08 09:57:51'),
    ('Quinn','Baker','quinn.baker.t7r@campus.edu','Philosophy',2019,2.26,'withdrawn','2024-12-17 11:48:43'),
    ('Taylor','Sanchez','taylor.sanchez.u6t@student.edu','Finance',2022,2.23,'withdrawn','2023-11-27 20:49:53'),
    ('Indigo','Miller','indigo.miller.ioa@student.edu','Physics',2022,3.20,'graduated','2023-09-09 18:28:56'),
    ('Luca','Johnson','luca.johnson.ssl@campus.edu','Data Science',2020,3.31,'withdrawn','2021-01-17 11:32:35'),
    ('Owen','Campbell','owen.campbell.hoq@example.edu','Biology',2025,2.19,'leave','2022-01-20 17:40:10'),
    ('Finley','Thomas','finley.thomas.xnp@example.edu','Economics',2021,3.58,'graduated','2023-09-30 09:18:46');


SELECT * FROM students_demo;

SELECT first_name || ' ' || last_name as full_name from students_demo;

SELECT concat(first_name, ' ', last_name) full_name from students_demo;

SELECT status, COUNT(*) as status_cnt from students_demo GROUP BY status ORDER BY status_cnt;

SELECT status, COUNT(*) as status_cnt from students_demo GROUP BY status ORDER BY status_cnt DESC limit 1;

SELECT DISTINCT graduation_year, COUNT(*) students_cnt from students_demo GROUP BY graduation_year ORDER BY students_cnt DESC LIMIT 1;

SELECT major, AVG(gpa) average_gpa from students_demo GROUP BY major;

SELECT major, max(gpa) from students_demo GROUP BY major;

SELECT min(gpa) from students_demo;

select distinct major, min(gpa) from students_demo GROUP BY major;